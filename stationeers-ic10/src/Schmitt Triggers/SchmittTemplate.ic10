
alias radiatorValve d0
alias gasTempDevice d1

alias currentTemp r2

define minTempKelvin 650
define maxTempKelvin 700


#simple schmitt trigger

start:

noCooling:
s radiatorValve On 0
l currentTemp gasTempDevice Temperature
s db Setting currentTemp
bgeal currentTemp maxTempKelvin startCooling
yield
j noCooling

startCooling:
s radiatorValve On 1
l currentTemp gasTempDevice Temperature
s db Setting currentTemp
blt currentTemp minTempKelvin noCooling
yield
j startCooling