alias gateValve d2
alias gasTempDevice d3

alias currentTemp r2

define maxTempKelvin 292

start:
#DEFAULT TO OFF ON STARTUP TO AVOID ISSUES
s gateValve On 0
yield

initialize:

closeValve:
s gateValve On 0
l currentTemp gasTempDevice Temperature
s db Setting currentTemp
ble currentTemp maxTempKelvin openValve
yield
sleep 10
j closeValve

openValve:
s gateValve On 1
l currentTemp gasTempDevice Temperature
s db Setting currentTemp
bgt currentTemp maxTempKelvin closeValve
yield
j openValve